{"ast":null,"code":"import _objectSpread from \"/Users/js/Desktop/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/js/Desktop/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/js/Desktop/front-end/src/components/FeatureViews/Registration/RegistrationLanding.js\";\n// react/redux imports\nimport * as apiActions from \"../../../actions/apiActions\";\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\"; // material ui imports\n\nimport BackButton from \"../../BackButton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchSelect from \"react-select\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport { Typography } from \"@material-ui/core\"; // component imports\n\nimport CourseList from \"./CourseList\";\nimport TutoringList from \"./TutoringList\";\nimport { GET } from \"../../../actions/actionTypes.js\";\nconst NUM_GRADES = 10; // eslint-disable-next-line max-statements\n\nconst RegistrationLanding = ({\n  api,\n  courses,\n  instructors,\n  requestStatus\n}) => {\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        view = _useState2[0],\n        setView = _useState2[1];\n\n  const _useState3 = useState({\n    \"grade\": [],\n    \"instructor\": [],\n    \"subject\": []\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        courseFilters = _useState4[0],\n        setCourseFilters = _useState4[1];\n\n  const updateView = newView => () => {\n    setView(newView);\n  };\n\n  useEffect(() => {\n    api.fetchInstructors();\n    api.fetchCourses();\n  }, [api]);\n\n  const handleFilterChange = filterType => filters => {\n    setCourseFilters(_objectSpread({}, courseFilters, {\n      [filterType]: filters || []\n    }));\n  };\n\n  const renderFilter = filterType => {\n    let options = [];\n\n    switch (filterType) {\n      case \"instructor\":\n        options = Object.values(instructors).map(({\n          name,\n          user_id\n        }) => ({\n          \"label\": name,\n          \"value\": user_id\n        }));\n        break;\n\n      case \"subject\":\n        options = [{\n          \"label\": \"Math\",\n          \"value\": \"Math\"\n        }, {\n          \"label\": \"Science\",\n          \"value\": \"Science\"\n        }];\n        break;\n\n      case \"grade\":\n        options = [...Array(NUM_GRADES).keys()].map(i => ({\n          \"label\": \"\".concat(i + 1),\n          \"value\": i + 1\n        }));\n        break;\n\n      default:\n        return \"\";\n    }\n\n    const customStyles = {\n      \"clearIndicator\": (base, state) => _objectSpread({}, base, {\n        \"color\": state.isFocused ? \"blue\" : \"black\",\n        \"cursor\": \"pointer\"\n      }),\n      \"option\": base => _objectSpread({}, base, {\n        \"textAlign\": \"left\"\n      })\n    };\n    return React.createElement(SearchSelect, {\n      className: \"filter-options\",\n      closeMenuOnSelect: false,\n      isMulti: true,\n      onChange: handleFilterChange(filterType),\n      options: options,\n      placeholder: \"All \".concat(filterType, \"s\"),\n      styles: customStyles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    });\n  };\n\n  let filteredCourses = Object.values(courses);\n  Object.entries(courseFilters).filter(([, filters]) => filters.length > 0).forEach(([filterName, filters]) => {\n    const mappedValues = filters.map(({\n      value\n    }) => value);\n\n    switch (filterName) {\n      case \"instructor\":\n        filteredCourses = filteredCourses.filter(({\n          instructor_id\n        }) => mappedValues.includes(instructor_id));\n        break;\n\n      case \"subject\":\n        filteredCourses = filteredCourses.filter(({\n          subject\n        }) => mappedValues.includes(subject));\n        break;\n\n      case \"grade\":\n        filteredCourses = filteredCourses.filter(({\n          grade\n        }) => mappedValues.includes(grade));\n        break;\n\n      default:\n        console.warn(\"Unhandled filter \".concat(filterName));\n    }\n  });\n\n  if (typeof requestStatus.instructor[GET][apiActions.REQUEST_ALL] === \"undefined\") {\n    return \"HAVE NOT REQUESTED INSTRUCTORS YET\";\n  }\n\n  if (typeof requestStatus.course[GET][apiActions.REQUEST_ALL] === \"undefined\") {\n    return \"HAVE NOT REQUESTED COURSES YET\";\n  }\n\n  if (requestStatus.instructor[GET][apiActions.REQUEST_ALL] === apiActions.REQUEST_STARTED || requestStatus.course[GET][apiActions.REQUEST_ALL] === apiActions.REQUEST_STARTED) {\n    return \"LOADING\";\n  }\n\n  if (requestStatus.instructor[GET][apiActions.REQUEST_ALL] < 200 || requestStatus.instructor[GET][apiActions.REQUEST_ALL] >= 300 || requestStatus.course[GET][apiActions.REQUEST_ALL] < 200 || requestStatus.course[GET][apiActions.REQUEST_ALL] >= 300) {\n    return \"ERROR LOADING COURSES\";\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(Paper, {\n    className: \"RegistrationLanding paper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(BackButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    container: true,\n    layout: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    md: 7,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    align: \"left\",\n    className: \"heading\",\n    variant: \"h3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Registration Catalog\")), React.createElement(Grid, {\n    className: \"catalog-setting-wrapper\",\n    item: true,\n    md: 5,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(Tabs, {\n    className: \"catalog-setting\",\n    value: view,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(Tab, {\n    label: \"Courses\",\n    onClick: updateView(0),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }), React.createElement(Tab, {\n    label: \"Tutoring\",\n    onClick: updateView(1),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  })))), React.createElement(Grid, {\n    container: true,\n    layout: \"row\",\n    spacing: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    md: 4,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, renderFilter(\"instructor\")), React.createElement(Hidden, {\n    xsDown: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    md: 4,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, renderFilter(\"subject\")), React.createElement(Grid, {\n    item: true,\n    md: 4,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, renderFilter(\"grade\")))), React.createElement(\"div\", {\n    className: \"registration-table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, view === 0 && React.createElement(CourseList, {\n    filteredCourses: filteredCourses,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }), view === 1 && React.createElement(TutoringList, {\n    filteredCourses: filteredCourses,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }))));\n};\n\nRegistrationLanding.propTypes = {\n  \"api\": PropTypes.object.isRequired,\n  \"courses\": PropTypes.object.isRequired,\n  \"instructors\": PropTypes.object.isRequired,\n  \"requestStatus\": PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  \"courses\": state.Course.NewCourseList,\n  \"instructors\": state.Users.InstructorList,\n  \"requestStatus\": state.RequestStatus\n});\n\nconst mapDispatchToProps = dispatch => ({\n  \"api\": bindActionCreators(apiActions, dispatch)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegistrationLanding);","map":{"version":3,"sources":["/Users/js/Desktop/front-end/src/components/FeatureViews/Registration/RegistrationLanding.js"],"names":["apiActions","React","useEffect","useState","PropTypes","bindActionCreators","connect","BackButton","Grid","Hidden","Paper","SearchSelect","Tab","Tabs","Typography","CourseList","TutoringList","GET","NUM_GRADES","RegistrationLanding","api","courses","instructors","requestStatus","view","setView","courseFilters","setCourseFilters","updateView","newView","fetchInstructors","fetchCourses","handleFilterChange","filterType","filters","renderFilter","options","Object","values","map","name","user_id","Array","keys","i","customStyles","base","state","isFocused","filteredCourses","entries","filter","length","forEach","filterName","mappedValues","value","instructor_id","includes","subject","grade","console","warn","instructor","REQUEST_ALL","course","REQUEST_STARTED","propTypes","object","isRequired","mapStateToProps","Course","NewCourseList","Users","InstructorList","RequestStatus","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["// react/redux imports\nimport * as apiActions from \"../../../actions/apiActions\";\nimport React, {useEffect, useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\n\n// material ui imports\nimport BackButton from \"../../BackButton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchSelect from \"react-select\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport {Typography} from \"@material-ui/core\";\n\n// component imports\nimport CourseList from \"./CourseList\";\nimport TutoringList from \"./TutoringList\";\n\nimport {GET} from \"../../../actions/actionTypes.js\";\n\nconst NUM_GRADES = 10;\n\n// eslint-disable-next-line max-statements\nconst RegistrationLanding = ({api, courses, instructors, requestStatus}) => {\n    const [view, setView] = useState(0);\n    const [courseFilters, setCourseFilters] = useState({\n        \"grade\": [],\n        \"instructor\": [],\n        \"subject\": [],\n    });\n\n    const updateView = (newView) => () => {\n        setView(newView);\n    };\n\n    useEffect(() => {\n        api.fetchInstructors();\n        api.fetchCourses();\n    }, [api]);\n\n    const handleFilterChange = (filterType) => (filters) => {\n        setCourseFilters({\n            ...courseFilters,\n            [filterType]: filters || [],\n        });\n    };\n\n    const renderFilter = (filterType) => {\n        let options = [];\n        switch (filterType) {\n            case \"instructor\":\n                options = Object.values(instructors)\n                    .map(({name, user_id}) => ({\n                        \"label\": name,\n                        \"value\": user_id,\n                    }));\n                break;\n            case \"subject\":\n                options = [\n                    {\n                        \"label\": \"Math\",\n                        \"value\": \"Math\",\n                    },\n                    {\n                        \"label\": \"Science\",\n                        \"value\": \"Science\",\n                    },\n                ];\n                break;\n            case \"grade\":\n                options = [...Array(NUM_GRADES).keys()]\n                    .map((i) => ({\n                        \"label\": `${i + 1}`,\n                        \"value\": i + 1,\n                    }));\n                break;\n            default:\n                return \"\";\n        }\n\n        const customStyles = {\n            \"clearIndicator\": (base, state) => ({\n                ...base,\n                \"color\": state.isFocused ? \"blue\" : \"black\",\n                \"cursor\": \"pointer\",\n            }),\n            \"option\": (base) => ({\n                ...base,\n                \"textAlign\": \"left\",\n            }),\n        };\n\n        return (\n            <SearchSelect\n                className=\"filter-options\"\n                closeMenuOnSelect={false}\n                isMulti\n                onChange={handleFilterChange(filterType)}\n                options={options}\n                placeholder={`All ${filterType}s`}\n                styles={customStyles} />\n        );\n    };\n\n    let filteredCourses = Object.values(courses);\n    Object.entries(courseFilters)\n        .filter(([, filters]) => filters.length > 0)\n        .forEach(([filterName, filters]) => {\n            const mappedValues = filters.map(({value}) => value);\n            switch (filterName) {\n                case \"instructor\":\n                    filteredCourses = filteredCourses.filter(({instructor_id}) =>\n                        mappedValues.includes(instructor_id));\n                    break;\n                case \"subject\":\n                    filteredCourses = filteredCourses.filter(({subject}) =>\n                        mappedValues.includes(subject));\n                    break;\n                case \"grade\":\n                    filteredCourses = filteredCourses.filter(({grade}) =>\n                        mappedValues.includes(grade));\n                    break;\n                default:\n                    console.warn(`Unhandled filter ${filterName}`);\n            }\n        });\n\n    if (typeof requestStatus.instructor[GET][apiActions.REQUEST_ALL] === \"undefined\") {\n        return \"HAVE NOT REQUESTED INSTRUCTORS YET\";\n    }\n\n    if (typeof requestStatus.course[GET][apiActions.REQUEST_ALL] === \"undefined\") {\n        return \"HAVE NOT REQUESTED COURSES YET\";\n    }\n\n    if (requestStatus.instructor[GET][apiActions.REQUEST_ALL] === apiActions.REQUEST_STARTED ||\n        requestStatus.course[GET][apiActions.REQUEST_ALL] === apiActions.REQUEST_STARTED) {\n        return \"LOADING\";\n    }\n\n    if (requestStatus.instructor[GET][apiActions.REQUEST_ALL] < 200 ||\n        requestStatus.instructor[GET][apiActions.REQUEST_ALL] >= 300 ||\n        requestStatus.course[GET][apiActions.REQUEST_ALL] < 200 ||\n        requestStatus.course[GET][apiActions.REQUEST_ALL] >= 300) {\n        return \"ERROR LOADING COURSES\";\n    }\n\n    return (\n        <>\n            <Paper className=\"RegistrationLanding paper\">\n                <BackButton />\n                <hr />\n                <Grid\n                    container\n                    layout=\"row\">\n                    <Grid\n                        item\n                        md={7}\n                        xs={12}>\n                        <Typography\n                            align=\"left\"\n                            className=\"heading\"\n                            variant=\"h3\">\n                            Registration Catalog\n                        </Typography>\n                    </Grid>\n                    <Grid\n                        className=\"catalog-setting-wrapper\"\n                        item\n                        md={5}\n                        xs={12}>\n                        <Tabs\n                            className=\"catalog-setting\"\n                            value={view}>\n                            <Tab\n                                label=\"Courses\"\n                                onClick={updateView(0)} />\n                            <Tab\n                                label=\"Tutoring\"\n                                onClick={updateView(1)} />\n                        </Tabs>\n                    </Grid>\n                </Grid>\n                <Grid\n                    container\n                    layout=\"row\"\n                    spacing={8}>\n                    <Grid\n                        item\n                        md={4}\n                        xs={12}>\n                        {renderFilter(\"instructor\")}\n                    </Grid>\n                    <Hidden xsDown>\n                        <Grid\n                            item\n                            md={4}\n                            xs={12}>\n                            {renderFilter(\"subject\")}\n                        </Grid>\n                        <Grid\n                            item\n                            md={4}\n                            xs={12}>\n                            {renderFilter(\"grade\")}\n                        </Grid>\n                    </Hidden>\n                </Grid>\n                <div className=\"registration-table\">\n                    {\n                        view === 0 &&\n                        <CourseList filteredCourses={filteredCourses} />\n                    }\n                    {\n                        view === 1 &&\n                        <TutoringList filteredCourses={filteredCourses} />\n                    }\n                </div>\n            </Paper>\n        </>\n    );\n};\n\nRegistrationLanding.propTypes = {\n    \"api\": PropTypes.object.isRequired,\n    \"courses\": PropTypes.object.isRequired,\n    \"instructors\": PropTypes.object.isRequired,\n    \"requestStatus\": PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    \"courses\": state.Course.NewCourseList,\n    \"instructors\": state.Users.InstructorList,\n    \"requestStatus\": state.RequestStatus,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    \"api\": bindActionCreators(apiActions, dispatch),\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(RegistrationLanding);\n"]},"metadata":{},"sourceType":"module"}