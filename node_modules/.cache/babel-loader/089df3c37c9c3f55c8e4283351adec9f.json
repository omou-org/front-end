{"ast":null,"code":"import _objectSpread from \"/Users/js/Desktop/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport * as actions from \"./../actions/actionTypes\";\nimport initialState from \"./initialState\";\nexport default function auth(state = initialState.Authentication, {\n  payload,\n  type\n}) {\n  switch (type) {\n    case actions.LOGIN_SUCCESSFUL:\n      return onSuccess(state, payload.response);\n\n    case actions.LOGOUT:\n      return onLogout(state);\n\n    default:\n      return state;\n  }\n}\n\nconst onSuccess = (state, {\n  data,\n  saveLogin\n}) => {\n  if (saveLogin) {\n    localStorage.setItem(\"authToken\", data.token);\n  }\n\n  sessionStorage.setItem(\"authToken\", data.token);\n  return _objectSpread({}, state, {\n    \"token\": data.token\n  });\n};\n\nconst onLogout = state => {\n  sessionStorage.removeItem(\"authToken\");\n  localStorage.removeItem(\"authToken\");\n  return _objectSpread({}, state, {\n    \"token\": null\n  });\n};","map":{"version":3,"sources":["/Users/js/Desktop/front-end/src/reducers/authReducer.js"],"names":["actions","initialState","auth","state","Authentication","payload","type","LOGIN_SUCCESSFUL","onSuccess","response","LOGOUT","onLogout","data","saveLogin","localStorage","setItem","token","sessionStorage","removeItem"],"mappings":";AAAA,OAAO,KAAKA,OAAZ,MAAyB,0BAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,eAAe,SAASC,IAAT,CAAcC,KAAK,GAAGF,YAAY,CAACG,cAAnC,EAAmD;AAACC,EAAAA,OAAD;AAAUC,EAAAA;AAAV,CAAnD,EAAoE;AAC/E,UAAQA,IAAR;AACI,SAAKN,OAAO,CAACO,gBAAb;AACI,aAAOC,SAAS,CAACL,KAAD,EAAQE,OAAO,CAACI,QAAhB,CAAhB;;AACJ,SAAKT,OAAO,CAACU,MAAb;AACI,aAAOC,QAAQ,CAACR,KAAD,CAAf;;AACJ;AACI,aAAOA,KAAP;AANR;AAQH;;AAED,MAAMK,SAAS,GAAG,CAACL,KAAD,EAAQ;AAACS,EAAAA,IAAD;AAAOC,EAAAA;AAAP,CAAR,KAA8B;AAC5C,MAAIA,SAAJ,EAAe;AACXC,IAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCH,IAAI,CAACI,KAAvC;AACH;;AACDC,EAAAA,cAAc,CAACF,OAAf,CAAuB,WAAvB,EAAoCH,IAAI,CAACI,KAAzC;AACA,2BACOb,KADP;AAEI,aAASS,IAAI,CAACI;AAFlB;AAIH,CATD;;AAWA,MAAML,QAAQ,GAAIR,KAAD,IAAW;AACxBc,EAAAA,cAAc,CAACC,UAAf,CAA0B,WAA1B;AACAJ,EAAAA,YAAY,CAACI,UAAb,CAAwB,WAAxB;AACA,2BACOf,KADP;AAEI,aAAS;AAFb;AAIH,CAPD","sourcesContent":["import * as actions from \"./../actions/actionTypes\";\nimport initialState from \"./initialState\";\n\nexport default function auth(state = initialState.Authentication, {payload, type}) {\n    switch (type) {\n        case actions.LOGIN_SUCCESSFUL:\n            return onSuccess(state, payload.response);\n        case actions.LOGOUT:\n            return onLogout(state);\n        default:\n            return state;\n    }\n}\n\nconst onSuccess = (state, {data, saveLogin}) => {\n    if (saveLogin) {\n        localStorage.setItem(\"authToken\", data.token);\n    }\n    sessionStorage.setItem(\"authToken\", data.token);\n    return {\n        ...state,\n        \"token\": data.token,\n    };\n};\n\nconst onLogout = (state) => {\n    sessionStorage.removeItem(\"authToken\");\n    localStorage.removeItem(\"authToken\");\n    return {\n        ...state,\n        \"token\": null,\n    };\n};\n"]},"metadata":{},"sourceType":"module"}