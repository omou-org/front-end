{"ast":null,"code":"var _jsxFileName = \"/Users/js/Desktop/front-end/src/components/FeatureViews/Accounts/UserProfile.js\";\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { Paper, Typography } from \"@material-ui/core\";\nimport './Accounts.scss';\nimport BackButton from \"../../BackButton\";\nimport ComponentViewer from \"./ComponentViewer.js\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport ProfileHeading from \"./ProfileHeading.js\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Chip from \"@material-ui/core/Chip\";\nimport BioIcon from \"@material-ui/icons/PersonOutlined\";\nimport CoursesIcon from \"@material-ui/icons/SchoolOutlined\";\nimport ScheduleIcon from \"@material-ui/icons/CalendarTodayOutlined\";\nimport NoteIcon from \"@material-ui/icons/NoteOutlined\";\nimport CurrentSessionsIcon from \"@material-ui/icons/AssignmentOutlined\";\nimport PastSessionsIcon from \"@material-ui/icons/AssignmentTurnedInOutlined\";\nimport PaymentIcon from \"@material-ui/icons/CreditCardOutlined\";\nimport ContactIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport Hidden from \"@material-ui/core/es/Hidden/Hidden\";\nconst userTabs = {\n  \"instructor\": [{\n    tab_heading: \"Schedule\",\n    tab_id: 0,\n    icon: React.createElement(ScheduleIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Courses\",\n    tab_id: 1,\n    icon: React.createElement(CoursesIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Bio\",\n    tab_id: 2,\n    icon: React.createElement(BioIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Notes\",\n    tab_id: 7,\n    icon: React.createElement(NoteIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    })\n  }],\n  \"student\": [{\n    tab_heading: \"Current Sessions\",\n    tab_id: 3,\n    icon: React.createElement(CurrentSessionsIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Past Sessions\",\n    tab_id: 4,\n    icon: React.createElement(PastSessionsIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Parent Contact\",\n    tab_id: 6,\n    icon: React.createElement(ContactIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Notes\",\n    tab_id: 7,\n    icon: React.createElement(NoteIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })\n  }],\n  \"parent\": [{\n    tab_heading: \"Student Info\",\n    tab_id: 8,\n    icon: React.createElement(CurrentSessionsIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Pay Courses\",\n    tab_id: 9,\n    icon: React.createElement(CurrentSessionsIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Payment History\",\n    tab_id: 5,\n    icon: React.createElement(PaymentIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Notes\",\n    tab_id: 7,\n    icon: React.createElement(NoteIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })\n  }]\n};\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: 0\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.computedMatch.params.accountID !== this.props.computedMatch.params.accountID) {\n      this.setState({\n        value: 0\n      });\n    }\n  }\n\n  getUser() {\n    let user;\n    let accountType = this.props.computedMatch.params.accountType,\n        accountID = this.props.computedMatch.params.accountID;\n\n    switch (accountType) {\n      case \"student\":\n        user = this.props.students[accountID];\n        break;\n\n      case \"parent\":\n        user = this.props.parents[accountID];\n        break;\n\n      case \"instructor\":\n        user = this.props.instructors[accountID];\n        break;\n\n      case \"receptionist\":\n        user = this.props.receptionist[accountID];\n        break;\n\n      default:\n        user = -1;\n    } // this.setState({ ...CourseInView });\n\n\n    if (user != \"receptionist\") {\n      return {\n        user: user,\n        userTabs: userTabs[accountType]\n      };\n    } else {\n      return {\n        user: user\n      };\n    }\n  }\n\n  handleChange(e, newTabIndex) {\n    e.preventDefault();\n    this.setState({\n      value: newTabIndex\n    });\n  }\n\n  stringToColor(string) {\n    let hash = 0;\n    let i;\n    /* eslint-disable no-bitwise */\n\n    for (i = 0; i < string.length; i += 1) {\n      hash = string.charCodeAt(i) + ((hash << 5) - hash);\n    }\n\n    let colour = '#';\n\n    for (i = 0; i < 3; i += 1) {\n      const value = hash >> i * 8 & 0xff;\n      colour += \"00\".concat(value.toString(16)).substr(-2);\n    }\n    /* eslint-enable no-bitwise */\n\n\n    return colour;\n  }\n\n  render() {\n    const _this$getUser = this.getUser(),\n          user = _this$getUser.user,\n          userTabs = _this$getUser.userTabs;\n\n    const styles = {\n      \"backgroundColor\": this.stringToColor(user.name),\n      \"color\": \"white\",\n      \"width\": \"11vw\",\n      \"height\": \"11vw\",\n      \"fontSize\": \"4vw\",\n      \"margin\": 20\n    };\n    let tabs;\n\n    if (user.role !== \"receptionist\") {\n      let tabID;\n\n      if (this.state.value < userTabs.length) {\n        tabID = userTabs[this.state.value].tab_id;\n      } else {\n        tabID = userTabs[0].tab_id;\n      }\n\n      tabs = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        key: this.props.inView,\n        value: this.state.value,\n        onChange: this.handleChange,\n        variant: \"scrollable\",\n        indicatorColor: \"primary\",\n        textColor: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, userTabs.map(tab => {\n        return React.createElement(Tab, {\n          label: React.createElement(React.Fragment, null, tab.icon, \" \", tab.tab_heading),\n          key: this.props.inView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        });\n      })), React.createElement(ComponentViewer, {\n        user: user,\n        inView: tabID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }));\n    } else {\n      tabs = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Action Log\"), React.createElement(Paper, {\n        className: 'paper',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: \"ActionTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Date\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"Time\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"Description\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, Object.keys(user.action_log).map(rowID => {\n        let row = user.action_log[rowID];\n        return React.createElement(TableRow, {\n          key: row.date //   onClick={(e) => {\n          //       e.preventDefault();\n          //       this.goToRoute(`/${row.role}/${row.user_id}`)\n          //   }}\n          ,\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          container: true,\n          layout: 'row',\n          alignItems: 'center',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          item: true,\n          md: 3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }), React.createElement(Grid, {\n          item: true,\n          md: 9,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, row.date)))), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        }, row.time), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, row.description));\n      })))));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"UserProfile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: 'paper',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(BackButton, {\n      warn: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      container: true,\n      layout: \"row\",\n      className: 'padding',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      sm: 2,\n      xs: 2,\n      md: 2,\n      component: Hidden,\n      xsDown: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      style: styles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, user.name.match(/\\b(\\w)/g).join(''))), React.createElement(Grid, {\n      item: true,\n      sm: 8,\n      xs: 16,\n      md: 8,\n      className: \"headingPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(ProfileHeading, {\n      user: user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }))), tabs));\n  }\n\n}\n\nUserProfile.propTypes = {};\n\nfunction mapStateToProps(state) {\n  return {\n    students: state.Users.StudentList,\n    parents: state.Users.ParentList,\n    instructors: state.Users.InstructorList,\n    receptionist: state.Users.ReceptionistList\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile);","map":{"version":3,"sources":["/Users/js/Desktop/front-end/src/components/FeatureViews/Accounts/UserProfile.js"],"names":["connect","React","Component","Grid","Paper","Typography","BackButton","ComponentViewer","Tabs","Tab","ProfileHeading","Avatar","TableHead","TableRow","TableCell","Table","TableBody","Chip","BioIcon","CoursesIcon","ScheduleIcon","NoteIcon","CurrentSessionsIcon","PastSessionsIcon","PaymentIcon","ContactIcon","Hidden","userTabs","tab_heading","tab_id","icon","UserProfile","constructor","props","state","value","handleChange","bind","componentDidUpdate","prevProps","computedMatch","params","accountID","setState","getUser","user","accountType","students","parents","instructors","receptionist","e","newTabIndex","preventDefault","stringToColor","string","hash","i","length","charCodeAt","colour","toString","substr","render","styles","name","tabs","role","tabID","inView","map","tab","Object","keys","action_log","rowID","row","date","time","description","match","join","propTypes","mapStateToProps","Users","StudentList","ParentList","InstructorList","ReceptionistList","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\nimport {Paper, Typography} from \"@material-ui/core\";\nimport './Accounts.scss';\n\nimport BackButton from \"../../BackButton\";\nimport ComponentViewer from \"./ComponentViewer.js\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport ProfileHeading from \"./ProfileHeading.js\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Chip from \"@material-ui/core/Chip\";\nimport BioIcon from \"@material-ui/icons/PersonOutlined\";\nimport CoursesIcon from \"@material-ui/icons/SchoolOutlined\";\nimport ScheduleIcon from \"@material-ui/icons/CalendarTodayOutlined\";\nimport NoteIcon from \"@material-ui/icons/NoteOutlined\";\nimport CurrentSessionsIcon from \"@material-ui/icons/AssignmentOutlined\";\nimport PastSessionsIcon from \"@material-ui/icons/AssignmentTurnedInOutlined\";\nimport PaymentIcon from \"@material-ui/icons/CreditCardOutlined\";\nimport ContactIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport Hidden from \"@material-ui/core/es/Hidden/Hidden\";\n\nconst userTabs = {\n    \"instructor\": [\n        {\n            tab_heading: \"Schedule\",\n            tab_id: 0,\n            icon: <ScheduleIcon className=\"TabIcon\" />,\n        },\n        {\n            tab_heading: \"Courses\",\n            tab_id: 1,\n            icon: <CoursesIcon className=\"TabIcon\" />,\n        },\n        {\n            tab_heading: \"Bio\",\n            tab_id: 2,\n            icon: <BioIcon className=\"TabIcon\" />,\n        },\n        {\n            tab_heading: \"Notes\",\n            tab_id: 7,\n            icon: <NoteIcon className=\"TabIcon\" />,\n        },\n    ],\n    \"student\": [\n        {\n            tab_heading: \"Current Sessions\",\n            tab_id: 3,\n            icon: <CurrentSessionsIcon className=\"TabIcon\" />,\n        },\n        {\n            tab_heading: \"Past Sessions\",\n            tab_id: 4,\n            icon: <PastSessionsIcon className=\"TabIcon\" />,\n        },\n        {\n            tab_heading: \"Parent Contact\",\n            tab_id: 6,\n            icon: <ContactIcon className=\"TabIcon\" />,\n        },\n        {\n            tab_heading: \"Notes\",\n            tab_id: 7,\n            icon: <NoteIcon className=\"TabIcon\" />,\n        }],\n\n        \"parent\": [\n            {\n                tab_heading: \"Student Info\",\n                tab_id: 8,\n                icon: <CurrentSessionsIcon className=\"TabIcon\"/>,\n            },\n            {\n                tab_heading: \"Pay Courses\",\n                tab_id: 9,\n                icon: <CurrentSessionsIcon className=\"TabIcon\"/>,\n            },\n            {\n                tab_heading: \"Payment History\",\n                tab_id: 5,\n                icon: <PaymentIcon className=\"TabIcon\"/>,\n            },\n            {\n                tab_heading: \"Notes\",\n                tab_id: 7,\n                icon: <NoteIcon className=\"TabIcon\"/>,\n            },\n        ],\n}\n\nclass UserProfile extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: 0,\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidUpdate(prevProps){\n       if(prevProps.computedMatch.params.accountID !== this.props.computedMatch.params.accountID){\n           this.setState({value:0})\n       }\n    }\n\n    getUser() {\n        let user;\n        let accountType = this.props.computedMatch.params.accountType, accountID = this.props.computedMatch.params.accountID;\n        switch (accountType) {\n            case \"student\":\n                user = this.props.students[accountID];\n                break;\n            case \"parent\":\n                user = this.props.parents[accountID];\n                break;\n            case \"instructor\":\n                user = this.props.instructors[accountID];\n                break;\n            case \"receptionist\":\n                user = this.props.receptionist[accountID];\n                break;\n            default:\n                user = -1;\n        }\n        // this.setState({ ...CourseInView });\n        if (user != \"receptionist\") {\n            return {\n                user: user,\n                userTabs: userTabs[accountType],\n            };\n        }\n        else {\n            return {\n                user: user,\n            };\n        }\n    }\n\n    handleChange(e, newTabIndex) {\n        e.preventDefault();\n        this.setState({ value: newTabIndex });\n    }\n\n    stringToColor(string) {\n        let hash = 0;\n        let i;\n\n        /* eslint-disable no-bitwise */\n        for (i = 0; i < string.length; i += 1) {\n            hash = string.charCodeAt(i) + ((hash << 5) - hash);\n        }\n\n        let colour = '#';\n\n        for (i = 0; i < 3; i += 1) {\n            const value = (hash >> (i * 8)) & 0xff;\n            colour += `00${value.toString(16)}`.substr(-2);\n        }\n        /* eslint-enable no-bitwise */\n\n        return colour;\n    }\n\n    render() {\n        const {user, userTabs} = this.getUser();\n        const styles = {\n            \"backgroundColor\": this.stringToColor(user.name),\n            \"color\": \"white\",\n            \"width\": \"11vw\",\n            \"height\": \"11vw\",\n            \"fontSize\": \"4vw\",\n            \"margin\": 20,\n        };\n        let tabs;\n        if (user.role !== \"receptionist\") {\n            let tabID;\n            if(this.state.value<userTabs.length){\n                tabID=userTabs[this.state.value].tab_id;\n            }\n            else{\n                tabID=userTabs[0].tab_id;\n            }\n            tabs =\n                (<div>\n                    <Tabs\n                    key={this.props.inView}\n                    value={this.state.value}\n                    onChange={this.handleChange}\n                    variant=\"scrollable\"\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                >\n                    {userTabs.map((tab) => {\n                        return <Tab\n                            label={<>{tab.icon} {tab.tab_heading}</>}\n                            key={this.props.inView}\n                        />\n                    })}\n                </Tabs>\n                <ComponentViewer user={user} inView={tabID} />\n            </div>)\n        }\n    \n        else {\n            tabs=(<div>\n                <Grid align=\"left\">\n                    Action Log\n                </Grid>\n\n                <Paper className={'paper'}>\n            <Table className=\"ActionTable\">\n            <TableHead>\n                <TableRow>\n                    <TableCell>Date</TableCell>\n                    <TableCell>Time</TableCell>\n                    <TableCell>Description</TableCell>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {Object.keys(user.action_log).map(rowID => {\n                    let row = user.action_log[rowID];\n                    return (\n                        <TableRow key={row.date}\n                                //   onClick={(e) => {\n                                //       e.preventDefault();\n                                //       this.goToRoute(`/${row.role}/${row.user_id}`)\n                                //   }}\n                                  className=\"row\">\n                            <TableCell component=\"th\" scope=\"row\">\n                                <Grid container layout={'row'} alignItems={'center'}>\n                                    <Grid item md={3}>\n                                    </Grid>\n                                    <Grid item md={9}>\n                                        <Typography>\n                                            {row.date}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </TableCell>\n                            <TableCell>{row.time}</TableCell>\n                            <TableCell>{row.description}</TableCell>\n                        </TableRow>\n                    )\n                })}\n            </TableBody>\n            </Table>\n            </Paper>\n            </div>\n            );\n        }\n        return (<div className=\"UserProfile\">\n            <Paper className={'paper'}>\n                <BackButton\n                    warn={false}\n                />\n                <hr />\n                <Grid container layout=\"row\" className={'padding'}>\n                    <Grid item sm={2} xs={2} md={2} component={Hidden} xsDown>\n                        <Avatar style={styles}>{user.name.match(/\\b(\\w)/g).join('')}</Avatar>\n                    </Grid>\n                    <Grid item sm={8} xs={16} md={8} className=\"headingPadding\">\n                        <ProfileHeading user={user} />\n                    </Grid>\n                </Grid>\n                {tabs}\n            </Paper>\n        </div>\n        )\n    }\n\n}\n\nUserProfile.propTypes = {};\n\nfunction mapStateToProps(state) {\n    return {\n        students: state.Users.StudentList,\n        parents: state.Users.ParentList,\n        instructors: state.Users.InstructorList,\n        receptionist: state.Users.ReceptionistList,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(UserProfile);\n"]},"metadata":{},"sourceType":"module"}