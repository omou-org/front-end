{"ast":null,"code":"import _objectSpread from \"/Users/4e65696c/Documents/GitHub/front-end/omou-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport * as actions from \"./../actions/actionTypes\";\nimport initialState from \"./initialState\";\nexport default function auth(state = initialState.Authentication, {\n  payload,\n  type\n}) {\n  switch (type) {\n    case actions.LOGIN_SUCCESSFUL:\n      return onSuccess(state, payload);\n\n    case actions.LOGOUT:\n      return onLogout(state);\n\n    default:\n      return state;\n  }\n}\n\nconst onSuccess = (state, {\n  response,\n  savePassword\n}) => {\n  if (savePassword) {\n    localStorage.setItem(\"authToken\", response.data.token);\n  }\n\n  sessionStorage.setItem(\"authToken\", response.data.token);\n  return _objectSpread({}, state, {\n    \"token\": response.data.token\n  });\n};\n\nconst onLogout = state => {\n  sessionStorage.removeItem(\"authToken\");\n  localStorage.removeItem(\"authToken\");\n  return _objectSpread({}, state, {\n    \"token\": null\n  });\n};","map":{"version":3,"sources":["/Users/4e65696c/Documents/GitHub/front-end/omou-frontend/src/reducers/authReducer.js"],"names":["actions","initialState","auth","state","Authentication","payload","type","LOGIN_SUCCESSFUL","onSuccess","LOGOUT","onLogout","response","savePassword","localStorage","setItem","data","token","sessionStorage","removeItem"],"mappings":";AAAA,OAAO,KAAKA,OAAZ,MAAyB,0BAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,eAAe,SAASC,IAAT,CAAcC,KAAK,GAAGF,YAAY,CAACG,cAAnC,EAAmD;AAACC,EAAAA,OAAD;AAAUC,EAAAA;AAAV,CAAnD,EAAoE;AAC/E,UAAQA,IAAR;AACI,SAAKN,OAAO,CAACO,gBAAb;AACI,aAAOC,SAAS,CAACL,KAAD,EAAQE,OAAR,CAAhB;;AACJ,SAAKL,OAAO,CAACS,MAAb;AACI,aAAOC,QAAQ,CAACP,KAAD,CAAf;;AACJ;AACI,aAAOA,KAAP;AANR;AAQH;;AAED,MAAMK,SAAS,GAAG,CAACL,KAAD,EAAQ;AAACQ,EAAAA,QAAD;AAAWC,EAAAA;AAAX,CAAR,KAAqC;AACnD,MAAIA,YAAJ,EAAkB;AACdC,IAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCH,QAAQ,CAACI,IAAT,CAAcC,KAAhD;AACH;;AACDC,EAAAA,cAAc,CAACH,OAAf,CAAuB,WAAvB,EAAoCH,QAAQ,CAACI,IAAT,CAAcC,KAAlD;AACA,2BACOb,KADP;AAEI,aAASQ,QAAQ,CAACI,IAAT,CAAcC;AAF3B;AAIH,CATD;;AAWA,MAAMN,QAAQ,GAAIP,KAAD,IAAW;AACxBc,EAAAA,cAAc,CAACC,UAAf,CAA0B,WAA1B;AACAL,EAAAA,YAAY,CAACK,UAAb,CAAwB,WAAxB;AACA,2BACOf,KADP;AAEI,aAAS;AAFb;AAIH,CAPD","sourcesContent":["import * as actions from \"./../actions/actionTypes\";\nimport initialState from \"./initialState\";\n\nexport default function auth(state = initialState.Authentication, {payload, type}) {\n    switch (type) {\n        case actions.LOGIN_SUCCESSFUL:\n            return onSuccess(state, payload);\n        case actions.LOGOUT:\n            return onLogout(state);\n        default:\n            return state;\n    }\n}\n\nconst onSuccess = (state, {response, savePassword}) => {\n    if (savePassword) {\n        localStorage.setItem(\"authToken\", response.data.token);\n    }\n    sessionStorage.setItem(\"authToken\", response.data.token);\n    return {\n        ...state,\n        \"token\": response.data.token,\n    };\n};\n\nconst onLogout = (state) => {\n    sessionStorage.removeItem(\"authToken\");\n    localStorage.removeItem(\"authToken\");\n    return {\n        ...state,\n        \"token\": null,\n    };\n};\n"]},"metadata":{},"sourceType":"module"}