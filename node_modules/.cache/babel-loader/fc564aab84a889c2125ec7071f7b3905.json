{"ast":null,"code":"import _objectWithoutProperties from \"/Users/js/Desktop/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"/Users/js/Desktop/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/js/Desktop/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/js/Desktop/front-end/src/components/FeatureViews/Registration/RegistrationLanding.js\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\"; // Material UI Imports\n\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { withRouter } from \"react-router-dom\";\nimport { Typography } from \"@material-ui/core\";\nimport BackButton from \"../../BackButton\";\nimport FilterIcon from \"@material-ui/icons/FilterList\";\nimport Popover from \"@material-ui/core/Popover\";\nimport SearchSelect from \"react-select\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport ForwardArrow from \"@material-ui/icons/ArrowForward\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport CourseList from \"./CourseList\";\nimport TutoringList from \"./TutoringList\";\n\nconst trimString = (string, maxLen) => {\n  if (string.length > maxLen) {\n    return \"\".concat(string.slice(0, maxLen - 3).trim(), \"...\");\n  } else {\n    return string;\n  }\n};\n\nconst RegistrationLanding = props => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        anchorEl = _useState2[0],\n        setAnchorEl = _useState2[1];\n\n  const _useState3 = useState(0),\n        _useState4 = _slicedToArray(_useState3, 2),\n        view = _useState4[0],\n        setView = _useState4[1];\n\n  const _useState5 = useState({\n    \"instructor\": [],\n    \"grade\": [],\n    \"subject\": []\n  }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        courseFilters = _useState6[0],\n        setCourseFilters = _useState6[1];\n\n  const handleFilterClick = event => {\n    event.preventDefault();\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = event => {\n    event.preventDefault();\n    setAnchorEl(null);\n  };\n\n  const handleFilterChange = (filters, filterType) => {\n    setCourseFilters(_objectSpread({}, courseFilters, {\n      [filterType]: filters ? filters : []\n    }));\n  };\n\n  const renderFilter = filterType => {\n    let options = [];\n\n    switch (filterType) {\n      case \"instructor\":\n        options = Object.values(props.instructors).map(({\n          name,\n          user_id\n        }) => ({\n          \"label\": name,\n          \"value\": user_id\n        }));\n        break;\n\n      case \"subject\":\n        options = [{\n          \"label\": \"Math\",\n          \"value\": \"Math\"\n        }, {\n          \"label\": \"Science\",\n          \"value\": \"Science\"\n        }];\n        break;\n\n      case \"grade\":\n        options = [...Array(10).keys()].map(i => ({\n          \"label\": \"\".concat(i + 1),\n          \"value\": i + 1\n        }));\n        break;\n\n      default:\n        return \"\";\n    }\n\n    const CustomClearText = () => \"clear all\";\n\n    const ClearIndicator = indicatorProps => {\n      const _indicatorProps$child = indicatorProps.children,\n            children = _indicatorProps$child === void 0 ? React.createElement(CustomClearText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }) : _indicatorProps$child,\n            getStyles = indicatorProps.getStyles,\n            _indicatorProps$inner = indicatorProps[\"innerProps\"],\n            ref = _indicatorProps$inner.ref,\n            restInnerProps = _objectWithoutProperties(_indicatorProps$inner, [\"ref\"]);\n\n      return React.createElement(\"div\", Object.assign({}, restInnerProps, {\n        ref: ref,\n        style: getStyles(\"clearIndicator\", indicatorProps),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          \"padding\": \"0px 5px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, children));\n    };\n\n    const customStyles = {\n      \"clearIndicator\": (base, state) => _objectSpread({}, base, {\n        \"cursor\": \"pointer\",\n        \"color\": state.isFocused ? \"blue\" : \"black\"\n      }),\n      \"option\": base => _objectSpread({}, base, {\n        \"textAlign\": \"left\"\n      })\n    };\n    return React.createElement(SearchSelect, {\n      value: handleFilterClick[filterType],\n      onChange: event => {\n        handleFilterChange(event, filterType);\n      },\n      className: \"filter-options\",\n      closeMenuOnSelect: false,\n      components: {\n        ClearIndicator\n      },\n      placeholder: \"All \".concat(filterType, \"s\"),\n      styles: customStyles,\n      isMulti: true,\n      options: options,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    });\n  };\n\n  let filteredCourses = Object.values(props.courses);\n  Object.entries(courseFilters).filter(([, filters]) => filters.length > 0).forEach(([filterName, filters]) => {\n    const mappedValues = filters.map(({\n      value\n    }) => value);\n\n    switch (filterName) {\n      case \"instructor\":\n        filteredCourses = filteredCourses.filter(({\n          instructor_id\n        }) => mappedValues.includes(instructor_id));\n        break;\n\n      case \"subject\":\n        filteredCourses = filteredCourses.filter(({\n          subject\n        }) => mappedValues.includes(subject));\n        break;\n\n      case \"grade\":\n        filteredCourses = filteredCourses.filter(({\n          grade\n        }) => mappedValues.includes(grade));\n        break;\n\n      default:\n        console.warn(\"Unhandled filter \".concat(filterName));\n    }\n  });\n  return React.createElement(Grid, {\n    container: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: \"RegistrationLanding paper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(BackButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    container: true,\n    layout: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    md: 7,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h3\",\n    align: \"left\",\n    className: \"heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"Registration Catalog\")), React.createElement(Grid, {\n    item: true,\n    md: 5,\n    xs: 12,\n    className: \"catalog-setting-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(Tabs, {\n    value: view,\n    className: \"catalog-setting\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(Tab, {\n    label: \"Courses\",\n    onClick: () => {\n      setView(0);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }), React.createElement(Tab, {\n    label: \"Tutoring\",\n    onClick: () => {\n      setView(1);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  })))), React.createElement(Grid, {\n    container: true,\n    layout: \"row\",\n    spacing: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, renderFilter(\"instructor\")), React.createElement(Hidden, {\n    xsDown: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, renderFilter(\"subject\")), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, renderFilter(\"grade\")))), React.createElement(\"div\", {\n    className: \"registration-table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, view === 0 && React.createElement(CourseList, {\n    filteredCourses: filteredCourses,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }), view === 1 && React.createElement(TutoringList, {\n    filteredCourses: filteredCourses,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  })))));\n};\n\nconst mapStateToProps = state => ({\n  \"courses\": state.Course[\"NewCourseList\"],\n  \"instructors\": state.Users[\"InstructorList\"]\n});\n\nconst mapDispatchToProps = () => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegistrationLanding);","map":{"version":3,"sources":["/Users/js/Desktop/front-end/src/components/FeatureViews/Registration/RegistrationLanding.js"],"names":["PropTypes","React","useState","connect","Grid","Button","Paper","withRouter","Typography","BackButton","FilterIcon","Popover","SearchSelect","Tabs","Tab","Card","CardContent","ForwardArrow","Hidden","CourseList","TutoringList","trimString","string","maxLen","length","slice","trim","RegistrationLanding","props","anchorEl","setAnchorEl","view","setView","courseFilters","setCourseFilters","handleFilterClick","event","preventDefault","currentTarget","handleClose","handleFilterChange","filters","filterType","renderFilter","options","Object","values","instructors","map","name","user_id","Array","keys","i","CustomClearText","ClearIndicator","indicatorProps","children","getStyles","ref","restInnerProps","customStyles","base","state","isFocused","filteredCourses","courses","entries","filter","forEach","filterName","mappedValues","value","instructor_id","includes","subject","grade","console","warn","mapStateToProps","Course","Users","mapDispatchToProps"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\nimport React, {useState} from \"react\";\nimport {connect} from \"react-redux\";\n\n// Material UI Imports\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {withRouter} from \"react-router-dom\";\nimport {Typography} from \"@material-ui/core\";\nimport BackButton from \"../../BackButton\";\nimport FilterIcon from \"@material-ui/icons/FilterList\";\nimport Popover from \"@material-ui/core/Popover\";\nimport SearchSelect from \"react-select\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport ForwardArrow from \"@material-ui/icons/ArrowForward\";\nimport Hidden from \"@material-ui/core/Hidden\";\n\nimport CourseList from \"./CourseList\";\nimport TutoringList from \"./TutoringList\";\n\nconst trimString = (string, maxLen) => {\n    if (string.length > maxLen) {\n        return `${string.slice(0, maxLen - 3).trim()}...`;\n    } else {\n        return string;\n    }\n};\n\nconst RegistrationLanding = (props) => {\n    const [anchorEl, setAnchorEl] = useState(\"\");\n    const [view, setView] = useState(0);\n    const [courseFilters, setCourseFilters] = useState({\n        \"instructor\": [],\n        \"grade\": [],\n        \"subject\": [],\n    });\n\n    const handleFilterClick = (event) => {\n        event.preventDefault();\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = (event) => {\n        event.preventDefault();\n        setAnchorEl(null);\n    };\n\n    const handleFilterChange = (filters, filterType) => {\n        setCourseFilters({\n            ...courseFilters,\n            [filterType]: filters ? filters : [],\n        });\n    };\n\n    const renderFilter = (filterType) => {\n        let options = [];\n        switch (filterType) {\n            case \"instructor\":\n                options = Object.values(props.instructors).map(\n                    ({name, user_id}) => ({\n                        \"label\": name,\n                        \"value\": user_id,\n                    })\n                );\n                break;\n            case \"subject\":\n                options = [\n                    {\"label\": \"Math\", \"value\": \"Math\"},\n                    {\"label\": \"Science\", \"value\": \"Science\"},\n                ];\n                break;\n            case \"grade\":\n                options = [...Array(10).keys()].map((i) => ({\n                    \"label\": `${i + 1}`,\n                    \"value\": i + 1,\n                }));\n                break;\n            default:\n                return \"\";\n        }\n        const CustomClearText = () => \"clear all\";\n        const ClearIndicator = (indicatorProps) => {\n            const {\n                children = <CustomClearText />,\n                getStyles,\n                \"innerProps\": {ref, ...restInnerProps},\n            } = indicatorProps;\n            return (\n                <div\n                    {...restInnerProps}\n                    ref={ref}\n                    style={getStyles(\"clearIndicator\", indicatorProps)}>\n                    <div style={{\"padding\": \"0px 5px\"}}>{children}</div>\n                </div>\n            );\n        };\n\n        const customStyles = {\n            \"clearIndicator\": (base, state) => ({\n                ...base,\n                \"cursor\": \"pointer\",\n                \"color\": state.isFocused ? \"blue\" : \"black\",\n            }),\n            \"option\": (base) => ({\n                ...base,\n                \"textAlign\": \"left\",\n            }),\n        };\n        return <SearchSelect\n            value={handleFilterClick[filterType]}\n            onChange={(event) => {\n                handleFilterChange(event, filterType);\n            }}\n            className=\"filter-options\"\n            closeMenuOnSelect={false}\n            components={{ClearIndicator}}\n            placeholder={`All ${filterType}s`}\n            styles={customStyles}\n            isMulti\n            options={options}\n        />;\n    };\n\n    let filteredCourses = Object.values(props.courses);\n    Object.entries(courseFilters)\n        .filter(([, filters]) => filters.length > 0)\n        .forEach(([filterName, filters]) => {\n            const mappedValues = filters.map(({value}) => value);\n            switch (filterName) {\n                case \"instructor\":\n                    filteredCourses = filteredCourses.filter(({instructor_id}) =>\n                        mappedValues.includes(instructor_id));\n                    break;\n                case \"subject\":\n                    filteredCourses = filteredCourses.filter(({subject}) =>\n                        mappedValues.includes(subject));\n                    break;\n                case \"grade\":\n                    filteredCourses = filteredCourses.filter(({grade}) =>\n                        mappedValues.includes(grade));\n                    break;\n                default:\n                    console.warn(`Unhandled filter ${filterName}`);\n            }\n        });\n\n    return (\n        <Grid container>\n            <Grid item xs={12}>\n                <Paper className=\"RegistrationLanding paper\">\n                    <BackButton />\n                    <hr />\n                    <Grid container layout=\"row\">\n                        <Grid item md={7} xs={12}>\n                            <Typography\n                                variant=\"h3\"\n                                align=\"left\"\n                                className=\"heading\">\n                                Registration Catalog\n                            </Typography>\n                        </Grid>\n                        <Grid item md={5} xs={12} className=\"catalog-setting-wrapper\">\n                            <Tabs value={view} className=\"catalog-setting\">\n                                <Tab label=\"Courses\" onClick={() => {\n                                    setView(0);\n                                }} />\n                                <Tab label=\"Tutoring\" onClick={() => {\n                                    setView(1);\n                                }} />\n                            </Tabs>\n                        </Grid>\n                        {/* <Grid item md={1} alignContent=\"space-between\" style={{\n                            \"margin\": \"auto 0\",\n                        }}>\n                            <FilterIcon\n                                style={{\"cursor\": \"pointer\"}}\n                                onClick={(event) => {\n                                    handleFilterClick(event);\n                                }}\n                            />\n                        </Grid> */}\n                    </Grid>\n                    <Grid container layout=\"row\" spacing={8}>\n                        <Grid item xs={12} md={4}>\n                            {renderFilter(\"instructor\")}\n                        </Grid>\n                        <Hidden xsDown>\n                            <Grid item xs={12} md={4}>\n                                {renderFilter(\"subject\")}\n                            </Grid>\n                            <Grid item xs={12} md={4}>\n                                {renderFilter(\"grade\")}\n                            </Grid>\n                        </Hidden>\n                    </Grid>\n                    <div className=\"registration-table\">\n                        {\n                            view === 0 &&\n                            <CourseList filteredCourses={filteredCourses} />\n                        }\n                        {\n                            view === 1 &&\n                            <TutoringList filteredCourses={filteredCourses} />\n                        }\n                    </div>\n                </Paper>\n            </Grid>\n        </Grid>\n    );\n};\n\nconst mapStateToProps = (state) => ({\n    \"courses\": state.Course[\"NewCourseList\"],\n    \"instructors\": state.Users[\"InstructorList\"],\n});\n\nconst mapDispatchToProps = () => ({});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(RegistrationLanding);\n"]},"metadata":{},"sourceType":"module"}